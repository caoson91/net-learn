@page "/counter"
@using BlazorRepository
@rendermode InteractiveServer

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
   
    [Inject] IProductService service { get; set; }

    private int currentCount = 0;

    private void IncrementCount()
    {
        var product = new Product()
            {
                Name = "Product 1",
                Description = "description 1",
                CategoryId = 1,
                ExpiredDate = DateTime.Now,
                CreatedBy = 1,
                CreatedDate = DateTime.Now
            };

        var res = service.AddProductAsync(product);
        currentCount++;
    }
}
